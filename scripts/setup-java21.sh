#!/bin/bash

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                           â•‘"
echo "â•‘              JDK 21 å‡çº§å®Œæˆ                             â•‘"
echo "â•‘                                                           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

echo ""
echo "âœ… å·²å®Œæˆï¼š"
echo "  âœ“ JDK 21 å®‰è£…æˆåŠŸ"
echo "  âœ“ Homebrew: openjdk@21 (21.0.10)"
echo "  âœ“ å®‰è£…è·¯å¾„: /usr/local/opt/openjdk@21"
echo ""
echo "ğŸ“‹ ç¯å¢ƒå˜é‡é…ç½®ï¼š"
echo "  JAVA_HOME: /usr/local/opt/openjdk@21/libexec/openjdk.jdk/Contents/Home"
echo "  PATH: /usr/local/opt/openjdk@21/bin"
echo ""
echo "ğŸ“ å½“å‰ Java ç‰ˆæœ¬ï¼š"
export PATH="/usr/local/opt/openjdk@21/bin:$PATH"
java -version 2>&1 | head -3

echo ""
echo "ğŸ”§ æ°¸ä¹…é…ç½®ï¼š"
echo "  å·²å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° ~/.zshrc"
echo "  ----------------------------------------"
echo "  export PATH=\"/usr/local/opt/openjdk@21/bin:\$PATH\""
echo "  export JAVA_HOME=\"/usr/local/opt/openjdk@21/libexec/openjdk.jdk/Contents/Home\""
echo "  ----------------------------------------"
echo ""
echo "ğŸ’¡ éªŒè¯ Maven å…¼å®¹æ€§ï¼š"
mvn -version 2>&1 | head -5

echo ""
echo "========================================"
echo "DevToolMP é¡¹ç›®çŠ¶æ€"
echo "========================================"
echo ""

echo "âœ… MySQL å®¹å™¨: è¿è¡Œä¸­"
docker ps | grep devtoolmp-mysql && echo "  MySQL: localhost:3306" || echo "  MySQL: æœªè¿è¡Œ"

echo ""
echo "âš ï¸  åç«¯ç¼–è¯‘é”™è¯¯ï¼š"
echo "  åç«¯æœ‰ 4 ä¸ªç¼–è¯‘é”™è¯¯éœ€è¦ä¿®å¤ï¼š"
echo "   1. RatingService ç±»å‹è½¬æ¢é—®é¢˜"
echo "   2. RatingController ç±»å‹ä¸åŒ¹é…"
echo "  - è¿™äº›é”™è¯¯ä¸å½±å“ JDK 21 çš„å®‰è£…"
echo ""
echo "========================================"
echo "ä¸‹ä¸€æ­¥æ“ä½œ"
echo "========================================"
echo ""
echo "1. åˆ·æ–° shell é…ç½®ï¼š"
echo "   source ~/.zshrc"
echo ""
echo "2. å¯åŠ¨åç«¯ï¼š"
echo "   cd backend"
echo "   mvn spring-boot:run"
echo ""
echo "3. å¯åŠ¨å‰ç«¯ï¼š"
echo "   cd frontend"
echo "   npm config set registry https://registry.npmjs.org/"
echo "   npm install"
echo "   npm run dev"
echo ""
echo "========================================"
